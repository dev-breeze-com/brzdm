[Desktop]

# Selected theme.
theme=breeze

# Hide the mouse cursor (note: does not work with some WMs).
hidecursor=yes

# Start in daemon mode, overriden by the command line
# option "-d" or "--nodaemon"
daemon=yes

# welcome message. Available variables: %host, %domain
welcome=Welcome to %host

# Disallow root login
root-login=no

# Lock file
lockfile=/var/run/brzdm.lock

# PID file
pidfile=/var/run/brzdm.pid

paths=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin

# Environment variables that child processes should inherit
[Setenv]
TERM=xterm
BASH=/bin/bash
SHELL=/bin/bash
DISPLAY=:0.0
PS1=\\u@\\h:\\w\\$
LIBXCB_ALLOW_SLOPPY_LOCK=1
[/Setenv]

[Display]
type=x11
name=:0.0
server=/usr/bin/X
arguments= -nolisten tcp -dpi 96
[/Display]

[Auth]
file=/var/run/brzdm.auth
# Full path to the xauth binary
command=/usr/bin/xauth 
[/Auth]

# Command to reconfigure the screen size and mode.
[XRandr]
enabled=yes
command=/usr/bin/xrandr -s 1600x1200
[/XRandr]

[Secure]
# Automatic login with crypted username and password retrieved from USB key.
# Trigerred with the Login keystroke (F2)
auto-login=no
use-etc-shadow=yes
use-secure=no
algorithm=blowfish
keys=/boot/brzdm/auth/entries.asc
[/Secure]

[Keyring]
owner=brzdm
main=_brzdm_ses.0
session=_brzdm_ses.0
[/Keyring]

[Session]
# The default session name is replaced in the login command.
default=xfce

# Available sessions verified by /usr/share/xsessions desktop files.
available=xfce,mate,kde,blackbox,brzbox,openbox,lxde,twm,fluxbox,breeze

# Command to start a session
command=exec /bin/sh -login /etc/X11/xinit/xinitrc %session

# Command executed when starting a session.
# Can be used to register an X11 session with sessreg.
# You can use the %user variable.
startcmd=

# Command executed when exiting a session.
stopcmd=
[/Session]

# Activate numlock when brzdm starts.
[Numlock]
enabled=no
[/Numlock]

///////////////////////////////////// THEME ///////////////////////////////////

# Reserved button names are:
# Console, Snapshot,
# Login, Kiosk,
# Shutdown, Reboot, Suspend,
# Prev, Next
#
[Snapshot]
type=button
enabled=no
keystroke=F11
button=snapshot.png
command=import -display :0.0 -window root /var/run/brzdm.jpg
message=Taking a snapshot ...
coord-x=50
coord-y=100
[/Snapshot]

# When kiosk mode is enabled, all other commands are automatically disabled.
#[Kiosk]
#type=button
#enabled=no
#keystroke=F4
#button=kiosk.png
#command=/usr/bin/kiosk -u kiosk
#message=Starting kiosk...
#coord-x=100
#coord-y=100
#[/Kiosk]

[Reboot]
type=button
enabled=yes
keystroke=F6
button=restart.png
command=/sbin/shutdown -r -t 5 now
message=The system is rebooting...
coord-x=50
coord-y=98%
[/Reboot]

[Shutdown]
type=button
enabled=yes
keystroke=F5
button=shutdown.png
command=/sbin/shutdown -h -t 5 now
message=The system is halting...
coord-x=100
coord-y=98%
[/Shutdown]

[Suspend]
type=button
enabled=no
keystroke=F7
button=suspend.png
command=/usr/sbin/suspend
message=Putting the system in suspend mode ...
coord-x=150
coord-y=98%
[/Suspend]

#[Console]
#type=button
#enabled=yes
#keystroke=F8
#button=console.png
#command=/usr/bin/xterm -C -fg white -bg black +sb -T "Console login" -e /bin/sh -c "/bin/cat /etc/issue; exec /bin/login"
#coord-x=200
#coord-y=98%
#[/Console]

[Prev]
type=button
button=prev.png
coord-x=100%-175
coord-y=98%
[/Prev]

[Login]
type=button
enabled=yes
button=login.png
keystroke=F2
coord-x=100%-125
coord-y=98%
[/Login]

[Next]
type=button
button=next.png
coord-x=100%-75
coord-y=98%
[/Next]

///////////////////////////////////// PANELS //////////////////////////////////

# Reserved panel names are:
# LoginPanel, InputPanel, InputMesg,
# PhotoPanel, ClockPanel,
# HostPanel, Background
# SessionPanel, MesgPanel
#
[Fonts]
paths=/usr/share/fonts/TTF:/usr/share/fonts/truetype/freefont:/usr/share/fonts/truetype/ttf-dejavu:/usr/share/fonts/truetype/ttf-liberation:/usr/share/fonts/75dpi:/usr/share/fonts/100dpi:/usr/share/fonts/freefont:/usr/share/fonts/freefonts:/usr/share/fonts/corefonts:/usr/share/fonts/dejavu
[/Fonts]

[Background]
style=stretch
color=#eedddd
url=background.jpg
[/Background]

[LoginPanel]
type=panel
background=panel.png
#text=Login:
#text-shadow=yes
#
# Must match the font filename without the suffix
#font-name=DejaVuSans-BoldOblique
#font-color=#FFFFFFFF
#font-size=128
#
# Text is centered is text coordinates not specified.
text-x=0
text-y=0

coord-x=2.5%
coord-y=60%

width=410
height=300
windowed=yes
[/LoginPanel]

[Message]
username=Enter your username:
password=Enter your password:
[/Message]

[InputPanel]
type=panel
bgcolor=#DDDDDD
parent=LoginPanel
#position=bottom-right
font-name=DejaVuSans
font-color=#000000
font-size=14
width=200
height=30
coord-x=100%-200
coord-y=100%-70
[/InputPanel]

[InputMesg]
type=panel
parent=LoginPanel
bgcolor=#00AAAAAA
font-name=DejaVuSans
font-color=#FFFFFF
font-size=14
width=200
height=30
coord-x=100%-405
coord-y=100%-70
windowed=no
[/InputMesg]

[MesgPanel]
type=panel
bgcolor=#00AAAAAA
font-name=FreeSans
font-color=#FFFFFF
font-size=16
height=30
width=40%
coord-x=-1
coord-y=15%
windowed=no
ondemand=yes
[/MesgPanel]

[SessionPanel]
type=panel
text=Session: %session
bgcolor=#00AAAAAA
font-name=FreeSans
font-color=#FFFFFF
font-size=16
height=30
width=40%
coord-x=-1
coord-y=90%
windowed=no
ondemand=yes
[/SessionPanel]

[ClockPanel]
type=panel
bgcolor=00AAAAAA
font-name=FreeSans
font-color=#EEEEEE
font-size=10
coord-x=100%-275
coord-y=50
width=250
height=20
ondemand=yes
[/ClockPanel]

#[PhotoPanel]
## The source of photo for users.
## Password -- retrieve path from GECOS entries
## Path -- retrieve as /usr/share/brzdm/photo/%user.jpg
#type=panel
#photo=Password
#background=photo.png
#coord-x=90%
#coord-y=10
#halign=right
#border=solid 1px #EEEEEE
#shadow=yes
#[/PhotoPanel]

[/Desktop]
